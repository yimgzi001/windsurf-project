var G=Object.defineProperty,W=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var O=(s,t,r)=>t in s?G(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,f=(s,t)=>{for(var r in t||(t={}))H.call(t,r)&&O(s,r,t[r]);if(I)for(var r of I(t))Q.call(t,r)&&O(s,r,t[r]);return s},y=(s,t)=>W(s,X(t));var V=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports);var j=(s,t,r)=>new Promise((o,n)=>{var a=d=>{try{c(r.next(d))}catch(i){n(i)}},l=d=>{try{c(r.throw(d))}catch(i){n(i)}},c=d=>d.done?o(d.value):Promise.resolve(d.value).then(a,l);c((r=r.apply(s,t)).next())});import{r as u,a as Z,R as ee}from"./vendor-3371026b.js";import{P as _,S as te,C as D,a as se,b as re,T as ne,X as S,c as oe,A as ae,D as le,U as k}from"./ui-532db09c.js";var ke=V(N=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var R={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ie=u,ce=Symbol.for("react.element"),de=Symbol.for("react.fragment"),xe=Object.prototype.hasOwnProperty,me=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ue={key:!0,ref:!0,__self:!0,__source:!0};function z(s,t,r){var o,n={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)xe.call(t,o)&&!ue.hasOwnProperty(o)&&(n[o]=t[o]);if(s&&s.defaultProps)for(o in t=s.defaultProps,t)n[o]===void 0&&(n[o]=t[o]);return{$$typeof:ce,type:s,key:a,ref:l,props:n,_owner:me.current}}v.Fragment=de;v.jsx=z;v.jsxs=z;R.exports=v;var e=R.exports,w={},E=Z;w.createRoot=E.createRoot,w.hydrateRoot=E.hydrateRoot;const ge=({categories:s,selectedCategoryId:t,onCategorySelect:r,onAddCategory:o,onOpenSettings:n})=>e.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 h-full flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"æç¤ºè¯ç®¡ç†å™¨"})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-600",children:"åˆ†ç±»"}),e.jsx("button",{onClick:o,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"æ·»åŠ åˆ†ç±»",children:e.jsx(_,{size:16})})]}),e.jsx("div",{className:"space-y-1",children:s.map(a=>e.jsxs("button",{onClick:()=>r(a.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-all duration-200 ${t===a.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-500":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsx("span",{className:"text-sm font-medium truncate",children:a.name})]},a.id))})]})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 text-sm transition-colors",children:[e.jsx(te,{size:16}),e.jsx("span",{children:"è®¾ç½®"})]})})]}),P={categories:[{id:"1",name:"å†™ä½œåŠ©æ‰‹",icon:"âœï¸"},{id:"2",name:"ç¼–ç¨‹å¼€å‘",icon:"ðŸ’»"},{id:"3",name:"åˆ›æ„è®¾è®¡",icon:"ðŸŽ¨"},{id:"4",name:"å•†åŠ¡åŠžå…¬",icon:"ðŸ’¼"},{id:"5",name:"å­¦ä¹ æ•™è‚²",icon:"ðŸ“š"}],prompts:[{id:"1",content:"è¯·å¸®æˆ‘å†™ä¸€ç¯‡å…³äºŽ[ä¸»é¢˜]çš„æ–‡ç« ï¼Œè¦æ±‚ç»“æž„æ¸…æ™°ï¼Œè¯­è¨€æµç•…ï¼Œå­—æ•°æŽ§åˆ¶åœ¨[å­—æ•°]å­—å·¦å³ã€‚",categoryId:"1"},{id:"2",content:"è¯·å¸®æˆ‘å†™ä¸€å°å…³äºŽ[äº‹é¡¹]çš„é‚®ä»¶ï¼Œæ”¶ä»¶äººæ˜¯[æ”¶ä»¶äºº]ï¼Œè¯­æ°”è¦[æ­£å¼/å‹å¥½]ã€‚",categoryId:"1"},{id:"3",content:`è¯·å¸®æˆ‘å®¡æŸ¥ä»¥ä¸‹ä»£ç ï¼ŒæŒ‡å‡ºæ½œåœ¨é—®é¢˜å¹¶æä¾›æ”¹è¿›å»ºè®®ï¼š
[ä»£ç å†…å®¹]`,categoryId:"2"},{id:"4",content:"è¯·å¸®æˆ‘å®žçŽ°ä¸€ä¸ª[åŠŸèƒ½æè¿°]çš„åŠŸèƒ½ï¼Œä½¿ç”¨[ç¼–ç¨‹è¯­è¨€]ï¼Œè¦æ±‚[å…·ä½“è¦æ±‚]ã€‚",categoryId:"2"},{id:"5",content:"è¯·ä¸º[é¡¹ç›®ç±»åž‹]è®¾è®¡ä¸€ä¸ª[é¡µé¢/ç»„ä»¶]çš„UIç•Œé¢ï¼Œé£Žæ ¼è¦æ±‚[è®¾è®¡é£Žæ ¼]ï¼Œç›®æ ‡ç”¨æˆ·æ˜¯[ç”¨æˆ·ç¾¤ä½“]ã€‚",categoryId:"3"},{id:"6",content:`è¯·å¸®æˆ‘æ•´ç†ä»¥ä¸‹ä¼šè®®å†…å®¹ä¸ºè§„èŒƒçš„ä¼šè®®çºªè¦ï¼š
ä¼šè®®æ—¶é—´ï¼š[æ—¶é—´]
å‚ä¼šäººå‘˜ï¼š[äººå‘˜]
ä¼šè®®å†…å®¹ï¼š[å†…å®¹]`,categoryId:"4"},{id:"7",content:"è¯·è¯¦ç»†è§£é‡Š[çŸ¥è¯†ç‚¹/æ¦‚å¿µ]ï¼ŒåŒ…æ‹¬å®šä¹‰ã€åŽŸç†ã€åº”ç”¨åœºæ™¯å’Œç›¸å…³ä¾‹å­ï¼Œè¦æ±‚é€šä¿—æ˜“æ‡‚ã€‚",categoryId:"5"}]},A="prompt-manager-data",he=()=>{try{const s=localStorage.getItem(A);return s?JSON.parse(s):P}catch(s){return P}},pe=s=>{try{const t=JSON.stringify(s);localStorage.setItem(A,t),console.log("æ•°æ®å·²è‡ªåŠ¨ä¿å­˜åˆ°localStorage",{categories:s.categories.length,prompts:s.prompts.length})}catch(t){console.error("Failed to save data:",t),alert("æ•°æ®ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨å­˜å‚¨ç©ºé—´")}},be=s=>j(N,null,function*(){try{return yield navigator.clipboard.writeText(s),!0}catch(t){try{const r=document.createElement("textarea");return r.value=s,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),!0}catch(r){return!1}}}),fe=({prompts:s,selectedCategory:t,onAddPrompt:r,onEditPrompt:o,onDeletePrompt:n})=>{const[a,l]=u.useState(null),c=i=>j(N,null,function*(){(yield be(i.content))&&(l(i.id),setTimeout(()=>l(null),2e3))});if(!t)return e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“"}),e.jsx("h2",{className:"text-xl font-medium text-gray-600 mb-2",children:"æ¬¢è¿Žä½¿ç”¨æç¤ºè¯ç®¡ç†å™¨"}),e.jsx("p",{className:"text-gray-500",children:"è¯·é€‰æ‹©å·¦ä¾§çš„åˆ†ç±»æ¥æŸ¥çœ‹æç¤ºè¯"})]})});const d=s.filter(i=>i.categoryId===t.id);return e.jsxs("div",{className:"flex-1 flex flex-col bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[d.length," ä¸ªæç¤ºè¯"]})]})]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(_,{size:16}),e.jsx("span",{children:"æ·»åŠ æç¤ºè¯"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸ“„"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"æš‚æ— æç¤ºè¯"}),e.jsx("p",{className:"text-gray-500 mb-4",children:'ç‚¹å‡»ä¸Šæ–¹"æ·»åŠ æç¤ºè¯"æŒ‰é’®æ¥åˆ›å»ºç¬¬ä¸€ä¸ªæç¤ºè¯'})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map(i=>e.jsxs("div",{className:"group relative bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:shadow-lg hover:scale-105 hover:border-blue-300 transition-all duration-200",onClick:()=>c(i),children:[e.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:g=>{g.stopPropagation(),c(i)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"å¤åˆ¶æç¤ºè¯",children:a===i.id?e.jsx(D,{size:16,className:"text-green-600"}):e.jsx(se,{size:16})}),e.jsx("button",{onClick:g=>{g.stopPropagation(),o(i)},className:"p-1.5 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded transition-colors",title:"ç¼–è¾‘æç¤ºè¯",children:e.jsx(re,{size:16})}),e.jsx("button",{onClick:g=>{g.stopPropagation(),n(i.id)},className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"åˆ é™¤æç¤ºè¯",children:e.jsx(ne,{size:16})})]}),e.jsx("div",{className:"text-sm text-gray-600 leading-relaxed line-clamp-4 pr-8",children:i.content}),a===i.id&&e.jsx("div",{className:"absolute inset-0 bg-green-50 border-2 border-green-200 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"text-green-600 font-medium text-sm",children:"âœ“ å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"})})]},i.id))})})]})},ye=({isOpen:s,onClose:t,onSave:r,categories:o,editingPrompt:n,selectedCategoryId:a})=>{const[l,c]=u.useState(""),[d,i]=u.useState("");u.useEffect(()=>{var x,b;s&&(n?(c(n.content),i(n.categoryId)):(c(""),i(a||((b=(x=o[0])==null?void 0:x.id)!=null?b:""))))},[s,n,a,o]);const g=x=>{x.preventDefault(),l.trim()&&d&&(r({content:l.trim(),categoryId:d}),t())};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:n?"ç¼–è¾‘æç¤ºè¯":"æ·»åŠ æç¤ºè¯"}),e.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",children:e.jsx(S,{size:20})})]}),e.jsxs("form",{onSubmit:g,className:"flex flex-col flex-1",children:[e.jsxs("div",{className:"p-6 space-y-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ†ç±» *"}),e.jsx("select",{id:"category",value:d,onChange:x=>i(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",required:!0,children:o.map(x=>e.jsxs("option",{value:x.id,children:[x.icon," ",x.name]},x.id))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:"æç¤ºè¯å†…å®¹ *"}),e.jsx("textarea",{id:"content",value:l,onChange:x=>c(x.target.value),className:"w-full h-64 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors resize-none",placeholder:"è¯·è¾“å…¥æç¤ºè¯å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ [å‚æ•°] æ¥æ ‡è®°éœ€è¦æ›¿æ¢çš„éƒ¨åˆ†",required:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"å–æ¶ˆ"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:!l.trim()||!d,children:n?"ä¿å­˜ä¿®æ”¹":"æ·»åŠ æç¤ºè¯"})]})]})]})}):null},je=({isOpen:s,onClose:t,onSave:r})=>{const[o,n]=u.useState(""),[a,l]=u.useState("ðŸ“"),c=["ðŸ“","ðŸ“","ðŸ’»","ðŸŽ¨","ðŸ’¼","ðŸ“š","ðŸ”§","ðŸ’¡","ðŸš€","â­","ðŸŽ¯","ðŸ“Š","ðŸŒŸ","ðŸ”¥","ðŸ’Ž","ðŸ†"],d=i=>{i.preventDefault(),o.trim()&&(r(o.trim(),a),n(""),l("ðŸ“"),t())};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"æ·»åŠ åˆ†ç±»"}),e.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",children:e.jsx(S,{size:20})})]}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"categoryName",className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ†ç±»åç§° *"}),e.jsx("input",{type:"text",id:"categoryName",value:o,onChange:i=>n(i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"è¯·è¾“å…¥åˆ†ç±»åç§°",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"é€‰æ‹©å›¾æ ‡"}),e.jsx("div",{className:"grid grid-cols-8 gap-2",children:c.map(i=>e.jsx("button",{type:"button",onClick:()=>l(i),className:`w-10 h-10 text-xl rounded-lg border-2 transition-colors ${a===i?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:i},i))})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"å–æ¶ˆ"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:!o.trim(),children:"æ·»åŠ åˆ†ç±»"})]})]})]})}):null},ve=s=>{try{const t=JSON.stringify(s,null,2),r=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(r),n=document.createElement("a");n.href=o,n.download=`prompt-manager-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(o)}catch(t){console.error("å¯¼å‡ºæ•°æ®å¤±è´¥:",t),alert("å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•")}},Ne=()=>new Promise((s,t)=>{const r=document.createElement("input");r.type="file",r.accept=".json",r.onchange=o=>{var l;const n=(l=o.target.files)==null?void 0:l[0];if(!n){t(new Error("æœªé€‰æ‹©æ–‡ä»¶"));return}const a=new FileReader;a.onload=c=>{var d;try{const i=(d=c.target)==null?void 0:d.result,g=JSON.parse(i);we(g)?s(g):t(new Error("æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®"))}catch(i){t(new Error("æ–‡ä»¶è§£æžå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼"))}},a.onerror=()=>{t(new Error("æ–‡ä»¶è¯»å–å¤±è´¥"))},a.readAsText(n)},document.body.appendChild(r),r.click(),document.body.removeChild(r)}),we=s=>{if(!s||typeof s!="object"||!Array.isArray(s.categories)||!Array.isArray(s.prompts))return!1;for(const t of s.categories)if(!t.id||!t.name||!t.icon)return!1;for(const t of s.prompts)if(!t.id||!t.content||!t.categoryId)return!1;return!0},Se=(s,t)=>{const r=new Set(s.categories.map(l=>l.name)),o=t.categories.filter(l=>!r.has(l.name)),n=new Map;o.forEach(l=>{const c=`imported_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;n.set(l.id,c),l.id=c});const a=t.prompts.map(l=>y(f({},l),{id:`imported_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,categoryId:n.get(l.categoryId)||l.categoryId}));return{categories:[...s.categories,...o],prompts:[...s.prompts,...a]}},Ce=({isOpen:s,onClose:t,data:r,onDataUpdate:o})=>{const[n,a]=u.useState(!1),[l,c]=u.useState(null),d=()=>{try{ve(r),c({type:"success",text:"æ•°æ®å¯¼å‡ºæˆåŠŸï¼"}),setTimeout(()=>c(null),3e3)}catch(g){c({type:"error",text:"å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•"}),setTimeout(()=>c(null),3e3)}},i=(g=!1)=>j(N,null,function*(){a(!0);try{const x=yield Ne();if(g){const b=Se(r,x);o(b),c({type:"success",text:`æˆåŠŸå¯¼å…¥ ${x.categories.length} ä¸ªåˆ†ç±»å’Œ ${x.prompts.length} ä¸ªæç¤ºè¯ï¼`})}else window.confirm("æ­¤æ“ä½œå°†è¦†ç›–æ‰€æœ‰çŽ°æœ‰æ•°æ®ï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ")&&(o(x),c({type:"success",text:"æ•°æ®å¯¼å…¥æˆåŠŸï¼"}));setTimeout(()=>c(null),3e3)}catch(x){c({type:"error",text:x.message||"å¯¼å…¥å¤±è´¥"}),setTimeout(()=>c(null),3e3)}finally{a(!1)}});return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"è®¾ç½®"}),e.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors",children:e.jsx(S,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[l&&e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${l.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[l.type==="success"?e.jsx(oe,{size:16}):e.jsx(ae,{size:16}),e.jsx("span",{className:"text-sm",children:l.text})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"æ•°æ®ç®¡ç†"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:"å¯¼å‡ºæ•°æ®"}),e.jsx("p",{className:"text-sm text-gray-500",children:"å°†æ‰€æœ‰åˆ†ç±»å’Œæç¤ºè¯å¯¼å‡ºä¸ºJSONæ–‡ä»¶"})]}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(le,{size:16}),e.jsx("span",{children:"å¯¼å‡º"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:"åˆå¹¶å¯¼å…¥"}),e.jsx("p",{className:"text-sm text-gray-500",children:"å¯¼å…¥æ•°æ®å¹¶ä¸ŽçŽ°æœ‰æ•°æ®åˆå¹¶"})]}),e.jsxs("button",{onClick:()=>i(!0),disabled:n,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[e.jsx(k,{size:16}),e.jsx("span",{children:n?"å¯¼å…¥ä¸­...":"åˆå¹¶"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:"æ›¿æ¢å¯¼å…¥"}),e.jsx("p",{className:"text-sm text-gray-500",children:"å¯¼å…¥æ•°æ®å¹¶æ›¿æ¢æ‰€æœ‰çŽ°æœ‰æ•°æ®"})]}),e.jsxs("button",{onClick:()=>i(!1),disabled:n,className:"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[e.jsx(k,{size:16}),e.jsx("span",{children:n?"å¯¼å…¥ä¸­...":"æ›¿æ¢"})]})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:"â€¢ æ‰€æœ‰æ•°æ®éƒ½ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨æœ¬åœ°å­˜å‚¨"}),e.jsx("p",{children:"â€¢ å¯¼å‡ºçš„æ–‡ä»¶åŒ…å«æ‰€æœ‰åˆ†ç±»å’Œæç¤ºè¯æ•°æ®"}),e.jsx("p",{children:"â€¢ åˆå¹¶å¯¼å…¥ä¼šä¿ç•™çŽ°æœ‰æ•°æ®å¹¶æ·»åŠ æ–°æ•°æ®"}),e.jsx("p",{children:"â€¢ æ›¿æ¢å¯¼å…¥ä¼šå®Œå…¨è¦†ç›–çŽ°æœ‰æ•°æ®"}),e.jsxs("p",{className:"text-green-600 font-medium",children:["â€¢ å½“å‰æ•°æ®ï¼š",r.categories.length," ä¸ªåˆ†ç±»ï¼Œ",r.prompts.length," ä¸ªæç¤ºè¯"]})]})})]})]})}):null},Ie=({data:s,isInitialLoad:t})=>{const[r,o]=u.useState(!1);return u.useEffect(()=>{if(!t){o(!0);const n=setTimeout(()=>o(!1),2e3);return()=>clearTimeout(n)}},[s,t]),t||!r?null:e.jsxs("div",{className:"fixed bottom-4 right-4 bg-green-100 border border-green-300 text-green-700 px-3 py-2 rounded-lg shadow-md flex items-center gap-2 animate-fade-in",children:[e.jsx(D,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"å·²è‡ªåŠ¨ä¿å­˜"})]})},Oe=()=>{const[s,t]=u.useState({categories:[],prompts:[]}),[r,o]=u.useState(null),[n,a]=u.useState(!1),[l,c]=u.useState(!1),[d,i]=u.useState(!1),[g,x]=u.useState(null),[b,T]=u.useState(!0);u.useEffect(()=>{const m=he();t(m),m.categories.length>0&&!r&&o(m.categories[0].id),T(!1)},[]),u.useEffect(()=>{b||pe(s)},[s,b]);const L=s.categories.find(m=>m.id===r)||null,M=m=>{o(m)},$=()=>{x(null),a(!0)},U=m=>{x(m),a(!0)},F=m=>{if(g)t(h=>y(f({},h),{prompts:h.prompts.map(p=>p.id===g.id?y(f({},m),{id:g.id}):p)}));else{const h=y(f({},m),{id:Date.now().toString()});t(p=>y(f({},p),{prompts:[...p.prompts,h]}))}a(!1),x(null)},J=m=>{window.confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæç¤ºè¯å—ï¼Ÿ")&&t(h=>y(f({},h),{prompts:h.prompts.filter(p=>p.id!==m)}))},q=()=>{c(!0)},B=(m,h)=>{const p={id:Date.now().toString(),name:m,icon:h};t(C=>y(f({},C),{categories:[...C.categories,p]})),c(!1),o(p.id)},K=()=>{i(!0)},Y=m=>{var h;t(m),r&&!m.categories.find(p=>p.id===r)&&o(((h=m.categories[0])==null?void 0:h.id)||null)};return e.jsxs("div",{className:"h-screen bg-gray-50 flex",children:[e.jsx(ge,{categories:s.categories,selectedCategoryId:r,onCategorySelect:M,onAddCategory:q,onOpenSettings:K}),e.jsx(fe,{prompts:s.prompts,selectedCategory:L,onAddPrompt:$,onEditPrompt:U,onDeletePrompt:J}),e.jsx(ye,{isOpen:n,onClose:()=>{a(!1),x(null)},onSave:F,categories:s.categories,editingPrompt:g,selectedCategoryId:r||void 0}),e.jsx(je,{isOpen:l,onClose:()=>c(!1),onSave:B}),e.jsx(Ce,{isOpen:d,onClose:()=>i(!1),data:s,onDataUpdate:Y}),e.jsx(Ie,{data:s,isInitialLoad:b})]})};w.createRoot(document.getElementById("root")).render(e.jsx(ee.StrictMode,{children:e.jsx(Oe,{})}))});export default ke();
